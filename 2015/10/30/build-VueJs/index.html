<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 使用webpack搭建vue开发环境 · 印有话</title><meta name="description" content="使用webpack搭建vue开发环境 - 王永华"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/wyhhahaha" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/soundtina" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">使用webpack搭建vue开发环境</h1><div class="post-time">Oct 30, 2015</div><div class="post-content"><p>最近几天项目上使用了vue.js作为一个主要的开发框架，并且为了发布的方便搭配了webpack一起使用。CSS框架使用的是vue-strap(vue 对bootstrap控件做了封装)<br>这篇文章主要总结一下具体搭建的过程，和途中遇到的一些问题的解决办法<br><a id="more"></a></p>
<h2 id="主要用到的工具"><a href="#主要用到的工具" class="headerlink" title="主要用到的工具"></a>主要用到的工具</h2><ul>
<li><a href="http://cn.vuejs.org/guide/" target="_blank" rel="external">Vue</a></li>
<li><a href="https://webpack.github.io/" target="_blank" rel="external">webpack</a></li>
<li><a href="http://yuche.github.io/vue-strap/" target="_blank" rel="external">vue-strap</a></li>
<li><a href="http://vuejs.github.io/vue-router/zh-cn/index.html" target="_blank" rel="external">vue-router</a></li>
</ul>
<h2 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h2><h3 id="1-首先建立项目的目录结构"><a href="#1-首先建立项目的目录结构" class="headerlink" title="1. 首先建立项目的目录结构"></a>1. 首先建立项目的目录结构</h3><ul>
<li>demo_project/<ul>
<li>dist/   <code>webpack生成的文件</code></li>
<li>src/   <code>源代码文件</code><ul>
<li>img/   <code>图片文件</code></li>
<li>css/   <code>css文件</code></li>
<li>js/   <code>js文件</code></li>
<li>components/   <code>定义的vue组件</code></li>
<li>views/   <code>视图文件，其实也是vue组件</code></li>
</ul>
</li>
<li>webpack.config.js <code>webpack配置文件</code></li>
</ul>
</li>
</ul>
<h3 id="2-安装vue-和webpack"><a href="#2-安装vue-和webpack" class="headerlink" title="2. 安装vue 和webpack"></a>2. 安装vue 和webpack</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 进入到 demo_project 目录下</span></div><div class="line">  npm install vue --save</div><div class="line">  npm install webpack --save</div></pre></td></tr></table></figure>
<h3 id="3-添加webpack配置文件"><a href="#3-添加webpack配置文件" class="headerlink" title="3. 添加webpack配置文件"></a>3. 添加webpack配置文件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    entry: <span class="string">'./src/index.js'</span>,</div><div class="line">    output: &#123;</div><div class="line">        path: __dirname + <span class="string">'/dist'</span>,</div><div class="line">        filename: <span class="string">'bundle.js'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="built_in">module</span>: &#123;</div><div class="line">        loaders: [&#123;</div><div class="line">            test: <span class="regexp">/\.css$/</span>,</div><div class="line">            loader: <span class="string">'style!css'</span></div><div class="line">        &#125;]</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-添加package-json文件"><a href="#4-添加package-json文件" class="headerlink" title="4. 添加package.json文件"></a>4. 添加package.json文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># cd 到 demo_project 目录下</span></div><div class="line">npm init <span class="comment">#跟着步骤一步一步的完成</span></div></pre></td></tr></table></figure>
<p>最后生成的<code>package.json</code>文件如下<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"vuedemo"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</div><div class="line">  <span class="string">"description"</span>: <span class="string">"a vue demo with webpack"</span>,</div><div class="line">  <span class="string">"main"</span>: <span class="string">"webpack.config.js"</span>,</div><div class="line">  <span class="string">"dependencies"</span>: &#123;</div><div class="line">    <span class="string">"vue"</span>: <span class="string">"^1.0.4"</span>,</div><div class="line">    <span class="string">"webpack"</span>: <span class="string">"^1.12.2"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="string">"devDependencies"</span>: &#123;&#125;,</div><div class="line">  <span class="string">"scripts"</span>: &#123;</div><div class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</div><div class="line">    <span class="string">"start"</span>:<span class="string">"webpack --color  --progress"</span></div><div class="line">    <span class="comment">//注意，这是我生成后加上的。用于执行webpack.如果webpack 安装在全局可以直接行动webpack进行打包</span></div><div class="line">  &#125;,</div><div class="line">  <span class="string">"author"</span>: <span class="string">"frank"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="5-新增html和js入口文件"><a href="#5-新增html和js入口文件" class="headerlink" title="5. 新增html和js入口文件"></a>5. 新增html和js入口文件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- src/index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"../dist/bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* src/index.js  */</span></div><div class="line"><span class="built_in">document</span>.write(<span class="string">'hello. webpack runs ok!'</span>)</div></pre></td></tr></table></figure>
<h3 id="6-验证webpack是否成功"><a href="#6-验证webpack是否成功" class="headerlink" title="6. 验证webpack是否成功"></a>6. 验证webpack是否成功</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm start</div></pre></td></tr></table></figure>
<p>在浏览器中打开index.html .看到<code>hello. webpack runs ok!</code> 表示webpack成功了运行了</p>
<blockquote>
<p>后面就是使用vue的loader加载的vue文件了.下次再写<br>接着来安装 vue-loader</p>
</blockquote>
<h3 id="7-安装vue-loader"><a href="#7-安装vue-loader" class="headerlink" title="7.安装vue-loader"></a>7.安装vue-loader</h3><ul>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install vue-loader --save</div></pre></td></tr></table></figure>
</li>
<li><p>修改配置文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//webpack.config.js</span></div><div class="line">loaders[</div><div class="line">        ...</div><div class="line">    &#123;</div><div class="line">            test:<span class="regexp">/\.vue$/</span>,</div><div class="line">            loader:<span class="string">'vue'</span></div><div class="line">    &#125;</div><div class="line">        ...</div></pre></td></tr></table></figure>
</li>
<li><p>在views目录下创建测试的vue文件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- hello.vue --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123;vueMsg&#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="built_in">module</span>.exports = &#123;</span></div><div class="line"><span class="undefined">    data() &#123;</span></div><div class="line"><span class="javascript">      <span class="keyword">return</span> &#123;<span class="attr">vueMsg</span>:<span class="string">'Vue hello world'</span>&#125;</span></div><div class="line"><span class="undefined">    &#125;</span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined">  strong&#123;</span></div><div class="line"><span class="undefined">    background-color: #f00;</span></div><div class="line"><span class="undefined">  &#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>在index.js文件中引入vue</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//index.js</span></div><div class="line"><span class="keyword">var</span> Vue = <span class="built_in">require</span>(<span class="string">'vue'</span>)</div><div class="line"><span class="keyword">var</span> helloVue = <span class="built_in">require</span>(<span class="string">'./views/hello.vue'</span>)</div><div class="line"> <span class="keyword">new</span> Vue(&#123;</div><div class="line">    el: <span class="string">"body"</span>,</div><div class="line">    components: &#123;</div><div class="line">        hello: helloVue</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>修改index.html加入body中加入demo的vue节点</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></div><div class="line">  ...</div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line">...</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="8-测试vue"><a href="#8-测试vue" class="headerlink" title="8.测试vue"></a>8.测试vue</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#根目录执行</span></div><div class="line">npm start</div></pre></td></tr></table></figure>
<p>打开index.html，看到<code>红色背景的Vue hello world</code></p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/02/04/vue-loader-bug/" class="prev">PRVE</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://wangyonghua.com">王永华</a>, unless otherwise noted.</p></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>